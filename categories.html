---
layout: default
title: Categories
---

<div class="categories-page">
  <h1>Browse by Category</h1>
  
  <p class="page-description">
    Explore problems organized by category to find issues related to specific domains.
  </p>

  {% assign all_categories = site.problems | map: 'category' | join: ',' | split: ',' | uniq | sort %}
  {% assign category_counts = "" | split: "," %}
  
  {% for category in all_categories %}
    {% if category != "" %}
      {% assign category_problems = site.problems | where_exp: "item", "item.category contains category" %}
      {% assign category_counts = category_counts | push: category_problems.size %}
    {% endif %}
  {% endfor %}

  <div class="categories-grid">
    {% for category in all_categories %}
      {% if category != "" %}
        {% assign category_problems = site.problems | where_exp: "item", "item.category contains category" %}
        <div class="category-card">
          <h2 class="category-title">{{ category }}</h2>
          <p class="category-count">{{ category_problems.size }} problem{% if category_problems.size != 1 %}s{% endif %}</p>
          
          <div class="category-problems">
            {% assign sorted_category_problems = category_problems | sort: 'title' %}
            {% for problem in sorted_category_problems limit: 5 %}
              <div class="category-problem">
                <h3><a href="{{ problem.url | relative_url }}">{{ problem.title }}</a></h3>
                {% if problem.description %}
                  <p class="problem-description">{{ problem.description }}</p>
                {% endif %}
              </div>
            {% endfor %}
            
            {% if category_problems.size > 5 %}
              <div class="show-more">
                <button class="show-more-btn" onclick="toggleCategory(this)">
                  Show {{ category_problems.size | minus: 5 }} more
                </button>
                <div class="hidden-problems" style="display: none;">
                  {% for problem in sorted_category_problems offset: 5 %}
                    <div class="category-problem">
                      <h3><a href="{{ problem.url | relative_url }}">{{ problem.title }}</a></h3>
                      {% if problem.description %}
                        <p class="problem-description">{{ problem.description }}</p>
                      {% endif %}
                    </div>
                  {% endfor %}
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<script>
function toggleCategory(button) {
  const hiddenProblems = button.parentElement.querySelector('.hidden-problems');
  const isHidden = hiddenProblems.style.display === 'none';
  
  if (isHidden) {
    hiddenProblems.style.display = 'block';
    button.textContent = 'Show less';
  } else {
    hiddenProblems.style.display = 'none';
    const count = hiddenProblems.querySelectorAll('.category-problem').length;
    button.textContent = `Show ${count} more`;
  }
}
</script>